generator client {
  provider = "go run github.com/steebchen/prisma-client-go"
  output = "../../apps/backend/prisma/db"
}

datasource db {
    provider = "postgresql"
    url      = env("DATABASE_URL")
}

model Course {
    id            Int      @id @default(autoincrement())
    code          String      @unique
    full_name     String
    prerequisites String[]
    reviews       Review[]
}

model User {
    id       Int      @id @default(autoincrement())
    username String
    email    String
    verified Boolean
    reviews  Review[]
}

model Review {
    id            Int       @id @default(autoincrement())
    academic_year Int
    description   String
    rating        Int
    votes         Int
    status        String
    course        Course    @relation(fields: [course_id], references: [id])
    course_id     Int
    user          User      @relation(fields: [user_id], references: [id])
    user_id       Int
    created_at    DateTime  @default(now()) @db.Timestamp(6)
    updated_at    DateTime? @updatedAt @db.Timestamp(6)
}
